<!DOCTYPE html>

<html>
<head>
	<title>Insert title here</title>
	<meta charset='UTF-8'>
	<script src='http://code.jquery.com/jquery-1.10.1.min.js' charset='UTF-8'></script>
	<script src='aop.min.js'></script>
	<script>
	function aopTest() {
		alert('aopTest');
		
		// 예외 상황 발생
		// throw '예외 발생!';
		
		return 'returned aopTest';
	}
	
	$.aop.afterFinally( {target: window, method: 'aopTest'}, function(result, exception) {
		if (exception == null) {
            alert('AfterFinally Advice: ' + result);
            return result;
		}			
        else {
            alert('AfterFinally Advice: ' + exception);
        	return exception;
        }
	});
	
	$.aop.after( {target: window, method: 'aopTest'}, function(result) {
		alert('After Advice: ' + result);
		
		return result;
	});
	
	alert(aopTest());
	</script>
</head>

<body>

</body>
</html>